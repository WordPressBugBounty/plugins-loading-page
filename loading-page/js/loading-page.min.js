var cp_loadingpage=cp_loadingpage||{};
(function(){var a=cp_loadingpage,k={threshold:100,effect:"show",effectspeed:0,codeblock:"",loadingScreen:!0,removeInOnLoad:!1,graphic:"bar",backgroundColor:"#000",foregroundColor:"#fff",text:!0,deepSearch:!1,modifyDisplayRule:0,pageEffect:"none",onComplete:function(){typeof window.afterCompleteLoadingScreen!="undefined"&&window.afterCompleteLoadingScreen();try{window.dispatchEvent(new Event("resize"))}catch(b){}}},f=[],g=0,h=!1,e=0;a.extend=function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=
c[d]);return b};a.validateScreenSize=function(){var b=a.options;if(!("screen_size"in b&&b.screen_size!="all"&&"screen_width"in b))return!0;var c=parseFloat(b.screen_width);if(isNaN(c)||!isFinite(c))return!0;var d=document.documentElement;d=window.innerWidth||d.clientWidth;return b.screen_size=="greater"&&c<=d||b.screen_size=="lesser"&&d<=c};a.imgLoaded=function(b){return b.complete&&b.naturalHeight!==0};a.displayBody=function(){var b=jQuery('[id="loading-page-inline-style"]');b.length?b.remove():
jQuery("html").append("<style>body{"+(a.options.modifyDisplayRule*1?"display:block":"visibility:visible")+";}</style>")};a.loadOriginalImg=function(){jQuery("body").find(".lp-lazy-load").each(function(){var b=jQuery(this),c=b.attr("data-src"),d=b.attr("data-srcset");b.removeClass("lp-lazy-load");typeof c!="undefined"&&b.attr("src",c);typeof d!="undefined"&&b.attr("srcset",c)})};a.graphicAction=function(b,c){if("graphic"in a.options&&"graphics"in a&&a.options.graphic in a.graphics&&a.graphics[a.options.graphic].created)a.graphics[a.options.graphic][b](c)};
a.ApplyAnimationToElement=function(b){jQuery("body").addClass("lp-"+b)};a.onLoadComplete=function(b){b=b||!1;var c=typeof lp_close_btn=="undefined"&&"additionalSeconds"in a.options&&!isNaN(parseFloat(a.options.additionalSeconds))&&isFinite(a.options.additionalSeconds)?parseInt(a.options.additionalSeconds):0,d=function(){jQuery("body").removeClass("lp_loading_screen_body");jQuery("#loading_page_codeBlock,.lp-close-screen").remove();a.graphicAction("complete",function(){a.ApplyAnimationToElement(a.options.pageEffect);
a.options.onComplete();jQuery(document).trigger("loadingScreenCompleted")})};c&&!b?setTimeout(function(){d()},c*1E3):d()};a.setLoadImgEvents=function(){for(var b=jQuery(window).height(),c=0,d=f.length;c<d;c++)if(!a.imgLoaded(f[c])){var l=jQuery(f[c]);if(a.options.deepSearch||l.offset().top<b)e++,l.on("load",function(){a.completeImageLoading()})}e==0&&this.completeImageLoading()};a.completeImageLoading=function(){g++;a.graphicAction("set",e?Math.min(g/e*100,100):100);e<=g&&!(a.options.removeInOnLoad*
1)&&a.destroyLoader()};a.destroyLoader=function(){if(a.options.loadingScreen&&!h){a.displayBody();var b=Math.min(e?g/e*100:0,100),c=function(){a.graphicAction("set",b);if(b==100)a.onLoadComplete();else b=Math.min(b+5,100),setTimeout(c,0)};h=!0;a.loadOriginalImg();c()}};a.loadingPage=function(){a.displayBody();f=jQuery("body").find("img:not(.lp-lazy-applied)");f.length&&a.setLoadImgEvents()};a.displayScreen=function(){if(!jQuery(".lp-screen:visible").length){jQuery(document).trigger("loadingScreenShow");
if(a.options.closeBtn){var b=jQuery('<span class="lp-close-screen">X</span>');b.on("click",function(){lp_close_btn=!0;if(h)a.onLoadComplete();else a.destroyLoader()});jQuery("html").append(b)}a.options.codeblock&&a.options.codeblock.length&&jQuery("html").append(a.options.codeblock);typeof a.graphics!="undefined"&&typeof a.graphics[a.options.graphic]!="undefined"&&(a.graphics[a.options.graphic].create(a.options),b=document.getElementById("loading_page_codeBlock"))&&(b.style.display="block")}};a.options=
typeof loading_page_settings!="undefined"?a.extend(k,loading_page_settings):k;a.options.text*=1;a.options.loadingScreen*=1;a.options.loadingScreen&&a.validateScreenSize()?a.displayScreen():(a.displayBody(),a.options.loadingScreen=0)})();jQuery(function(){cp_loadingpage.options.loadingScreen&&cp_loadingpage.loadingPage()});jQuery(window).on("load",function(){cp_loadingpage.loadOriginalImg();cp_loadingpage.destroyLoader()});
